<!doctype html>
<html lang="en" onload="mainProcedure()">
    <head>
        <meta charset="UTF-8">

        <title>Upgrader</title>
        <meta
            name="description"
            content="Calculates UPick upgrade prices per seat">
        <meta
            name="author"
            content="MLJ">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--
            Change log:
                10. August 2017  - created!
        -->

        <style>
			input {
				font-style: italic;
				min-height: 10%;
			}

			body {
				font-family: "Calibri";
			}

			.row-m-t{
				margin-top : .2%;
			}

			body {
				margin: 0;
				background: url("memphis-colorful.png")
				repeat;
			}

			#resultBox {
				display: none;
			}

			.btn-primary-salmon {
			  color: #fff;
			  background-color: #ff7583;
			  border-color: #ff7583;
			}

			.btn-primary-salmon:hover {
			  color: #fff;
			  background-color: #ff3B4f;
			  border-color: #ff3B4f;
			}

			@font-face {
				font-family: "Priscillia";
				src: url("PriscilliaScript.otf"),
				url('PriscilliaScript.woff') format('woff'),
				url('PriscilliaScript.ttf')  format('truetype'),
				url('PriscilliaScript.svg#PriscilliaScript') format('svg');
			}
		</style>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>

	<body>
		<div class="container" style="color: light-blue">
			<!--** TITLE **-->
			<div class="text-center">
				<h4>&nbsp;</h4>
				<h1 style="font-family: Priscillia">UPick Seat Price Upgrader</h1>
			</div>

			<!--** FIRST LINE OF TEXT **-->
			<div class="row row-m-t justify-content-center">
			<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10 text-center"><h4>Select UPick type:</h4></div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** FIRST ROW BUTTONS **-->
      <div class="row row-m-t">
        <!--left column-->
        <div class="col-lg-4 col-xs-1 col-sm-1"></div>
        <div class="col-lg-4 col-xs-10 col-sm-10">
          <div class="btn-group btn-group-justified" role="group">
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary" id="upickType4" onclick="setUpickType(4)">UPick 4</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary" id="upickType6" onclick = "setUpickType(6)">UPick 6</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary" id="upickType8" onclick = "setUpickType(8)">UPick 8</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary" id="upickType10" onclick = "setUpickType(10)">UPick 10</button>
            </div>
          </div>
        </div>
      </div>

			<!--** CHECKBOXES **-->
      <div class="row row-m-t">
        <!--left column-->
        <div class="col-lg-4 col-xs-1 col-sm-1"></div>
        <div class="col-lg-2 col-xs-5 col-sm-5 text-center">
          <h4>Old Price:</h4>
          <form>
            <div class="checkbox">
              <label><input type="checkbox" id="origAisle" value="">Aisle seat</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="origA" name="optradio">A price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="origB" name="optradio">B price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="origC" name="optradio">C price</label>
            </div>
          </form>
        </div>

        <!--left column-->
        <div class="col-lg-2 col-xs-5 col-sm-5 text-center">
          <h4>New Price:</h4>
          <form>
            <div class="checkbox">
              <label><input type="checkbox" id="newAisle" value="">Aisle seat</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="newA" name="optradio">A price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="newB" name="optradio">B price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="newC" name="optradio">C price</label>
            </div>
          </form>
        </div>
      </div>

			<!--** DISCOUNT/SURCHARGE BUTTONS **-->
			<div class="row row-m-t">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<div class="btn-group btn-group-justified" role="group">
            <div class="btn-group" role="group">
							<button type="button" class="btn btn-primary" id="button50" onclick="setDiscountAmount(50)">50% off</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-primary" id="button25" onclick = "setDiscountAmount(25)">25% off</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-primary" id="buttonNone" onclick = "setDiscountAmount(0)">None</button>
						</div>
					</div>
				</div>

				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<div class="row row-m-t">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<div class="btn-group btn-group-justified" role="group">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" id="calculateButton" onclickdisabled>Go</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" id="addOneButton" onclick="addASeat()" disabled>+1 seat</button>
						</div>
					</div>
				</div>

				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>


			<!--** RESULT TEXT **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<div class="well" id="resultBox">
					</div>
				</div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1 text-center"></div>
			</div>
		</div>

		<script>
			var origPriceType;
      var newPriceType;
      var upickNumeric = 0;

			var upgradePriceType;
			var divisor = 0;

			//Sets of price tiers
			var u4 = {"A":240.00,"B":188.00,"C":108.00};
			var u6 = {"A":342.00,"B":264.00,"C":156.00};
			var u8 = {"A":432.00,"B":336.00,"C":192.00};
			var u10 = {"A":540.00,"B":420.00,"C":240.00}

      var prices = new Object();
			var newPrice;
			var origPrice;

			var mainProcedure = function() {
				//change buttons
				document.getElementById('calculateButton').disabled = true;
				document.getElementById('resultBox').style.display = "block";
				document.getElementById('addOneButton').disabled = false;
				document.getElementById('addOneButton').className = "btn btn-primary-salmon btn-primary-salmon:hover";

				document.getElementById('button50').disabled = true;
				document.getElementById('button50').className = "btn btn-default";

				document.getElementById('button25').disabled = true;
				document.getElementById('button25').className = "btn btn-default";

				document.getElementById('buttonNone').disabled = true;
				document.getElementById('buttonNone').className = "btn btn-default";
			}

      var calculationProcedure = function() {
        console.log("in calculationProcedure");
        setPriceType();

        origPrice = prices[origPriceType];
        newPrice = prices[newPriceType];

        if(document.getElementById("newAisle").checked){
          newPrice += 4*upickNumeric;
        }
        if(document.getElementById("origAisle").checked){
          origPrice += 4*upickNumeric;
        }

        console.log("Old: " + origPrice + " New: " + newPrice);

        document.getElementById('resultBox').style.display = "flex";
        document.getElementById('resultBox').innerHTML = ("Difference of $" + ((parseFloat(newPrice-origPrice).toFixed(2))));


      }

      var setPriceType = function() {
          //set original price type
          if (document.getElementById("origA").checked) {
            console.log("A price old");
            origPriceType = "A";
            //break;
          }
          else if (document.getElementById("origB").checked) {
            console.log("B price old");
            origPriceType = "B";
            //break;
          }
          else if (document.getElementById("origC").checked) {
            console.log("C price old");
            origPriceType = "C";
            //break;
          }

          //set new price type
          if (document.getElementById("newA").checked) {
            console.log("A price new");
            newPriceType = "A";
            //break;
          }
          else if (document.getElementById("newB").checked) {
            console.log("B price new");
            newPriceType = "B";
            //break;
          }
          else if (document.getElementById("newC").checked) {
            console.log("C price new");
            newPriceType = "C";
            //break;
          }
      }

			var setUpickType = function(value) {
        upickNumeric = value;
        //get proper dictionary in place
				if (value==4){
					prices = u4;
				}
				else if (value==6){
					prices = u6;
				}
				else if (value==8){
					prices = u8;
				}
				else if (value==10){
					prices = u10;
				}

        console.log("Upick:" + value);
      }

			var addASeat = function() {
				console.log("addASeat");
				newPrice = newPrice + origSum;
				document.getElementById('resultBox').innerHTML = ("Difference of $" + ((parseFloat(newPrice).toFixed(2))));
			}

			var setDiscountAmount = function(discountAmt) {
				console.log("inside of setDiscountAmount");
				document.getElementById('calculateButton').className = "btn btn-success";
				document.getElementById('calculateButton').disabled = false;

				//get a nice decimal for dividing later (and eliminate div. by 0)
				if (discountAmt==0){
					divisor = 1.0;
					console.log("1 is the divisor");
				}
				else if (discountAmt==50) {
					divisor = 0.5;
					console.log(".5 is the divisor");
				}
				else if (discountAmt==25) {
					divisor = 0.75;
					console.log(".75 is the divisor");
				}
			}

			//Run the calculate function on button press (mainProcedure)
			document.getElementById('calculateButton').onclick = calculationProcedure;
		</script>
	</body>
</html>
