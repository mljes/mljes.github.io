<!doctype html>
<html lang="en" onload="mainProcedure()">
    <head>
        <meta charset="UTF-8">

        <title>Upgrader</title>
        <meta
            name="description"
            content="Calculates UPick upgrade prices per seat">
        <meta
            name="author"
            content="MLJ">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--
            Change log:
                10. August 2017  - created!
        -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <!--<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">-->
		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>

	<body>
			<!--** TITLE **-->
			<div class="text-center">
				<h4>&nbsp;</h4>
				<h1 style="color: red">THIS SITE WILL CEASE TO FUNCTION ON MARCH 31st, 2020</h1>
				<h1 style="font-family: Priscillia">UPick Seat Price Upgrader</h1>
			</div>

			<!--** FIRST LINE OF TEXT **-->
			<div class="row justify-content-center">
			<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10 text-center"><h4>Select UPick type:</h4></div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** FIRST ROW BUTTONS **-->
      <div class="row">
        <!--left column-->
        <!--<div class="col-lg-4 col-xs-1 col-sm-1"></div>-->
        <div class="col-sm-1 col-lg"></div>
        <div class="col-sm-10 col-lg">
          <div class="btn-group btn-group-justified" role="group">
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="upickType4" onclick="setUpickType(4)">UPick 4</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="upickType6" onclick = "setUpickType(6)">UPick 6</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="upickType8" onclick = "setUpickType(8)">UPick 8</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="upickType10" onclick = "setUpickType(10)">UPick 10</button>
            </div>
          </div>
        </div>
        <div class="col-sm-1 col-lg"></div>
      </div>

			<!--** CHECKBOXES **-->
      <div class="row">
        <!--left column-->
        <div class="col-lg-4 col-xs-1 col-sm-1"></div>
        <div class="col-lg-2 col-xs-5 col-sm-5 text-center">
          <h4>Old Price:</h4>
          <form>
            <div class="checkbox">
              <label><input type="checkbox" id="origAisle" value="">Aisle seat</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="origA" name="optradio">A price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="origB" name="optradio">B price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="origC" name="optradio">C price</label>
            </div>
          </form>
        </div>

        <!--left column-->
        <div class="col-lg-2 col-xs-5 col-sm-5 text-center">
          <h4>New Price:</h4>
          <form>
            <div class="checkbox">
              <label><input type="checkbox" id="newAisle" value="">Aisle seat</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="newA" name="optradio">A price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="newB" name="optradio">B price</label>
            </div>
            <div class="radio">
              <label><input type="radio" id="newC" name="optradio">C price</label>
            </div>
          </form>
        </div>
      </div>

			<!--** DISCOUNT/SURCHARGE BUTTONS **-->
			<div class="row">
				<!--left column-->
				<div class="col-sm-1 col-lg"></div>
				<div class="col-sm-10 col-lg">
					<div class="btn-group btn-group-justified" role="group">
            <div class="btn-group" role="group">
							<button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="button0" onclick = "setDiscountAmount(0)">None</button>
						</div>
            <div class="btn-group" role="group">
							<button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="button50" onclick="setDiscountAmount(50)">50% off</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-primary-salmon btn-primary-salmon:hover" id="button25" onclick = "setDiscountAmount(25)">25% off</button>
						</div>
					</div>
				</div>

				<!--right column-->
				<div class="col-sm-1 col-lg"></div>
			</div>

			<div class="row">
				<!--left column-->
				<div class="col-sm-1 col-lg"></div>
				<div class="col-sm-10 col-lg">
					<div class="btn-group btn-group-justified" role="group">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" id="calculateButton" onclick="calculationProcedure()" disabled>Go</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" id="addOneButton" onclick="addASeat()" disabled>+1 seat</button>
						</div>
					</div>
				</div>

				<!--right column-->
				<div class="col-sm-1 col-lg"></div>
			</div>


			<!--** RESULT TEXT **-->
			<div class="row justify-content-center">
				<!--left column-->
				<div class="col-sm-1 col-lg"></div>
				<div class="col-sm-10 col-lg">
					<div class="well" id="resultBox">
					</div>
				</div>
				<!--right column-->
				<div class="col-sm-1 col-lg"></div>
			</div>

		<script>
			var origPriceType;
      var newPriceType;

      var upickNumeric = 0;

			var upgradePriceType;
			var divisor = 0;

			//Sets of price tiers
			var u4 = {"A":252.00,"B":192.00,"C":128.00};
			var u6 = {"A":360.00,"B":270.00,"C":180.00};
			var u8 = {"A":448.00,"B":336.00,"C":224.00};
			var u10 = {"A":560.00,"B":420.00,"C":280.00}

      var prices = new Object();
			var newPrice;
			var origPrice;
      var difference;
      var upickNumeric;

			var mainProcedure = function() {
				//change buttons
				document.getElementById('calculateButton').disabled = true;
				document.getElementById('resultBox').style.display = "block";
				document.getElementById('addOneButton').disabled = false;
				document.getElementById('addOneButton').className = "btn btn-primary-salmon btn-primary-salmon:hover";

				document.getElementById('button50').disabled = true;
				document.getElementById('button50').className = "btn btn-default";

				document.getElementById('button25').disabled = true;
				document.getElementById('button25').className = "btn btn-default";

				document.getElementById('button0').disabled = true;
				document.getElementById('button0').className = "btn btn-default";
			}

      var calculationProcedure = function() {
        if (!checkInputs()) {
          console.log("need to select price type");
          document.getElementById("resultBox").innerHTML = "Don't forget the price type!";
          document.getElementById("resultBox").style.display = "flex";
        }
        else {
          console.log("in calculationProcedure");
          setPriceType();

          origPrice = prices[origPriceType];
          newPrice = prices[newPriceType];

          if(document.getElementById("newAisle").checked){
            newPrice += 4*upickNumeric;
          }
          if(document.getElementById("origAisle").checked){
            origPrice += 4*upickNumeric;
          }

          console.log("Old: " + origPrice + " New: " + newPrice);

          difference = (divisor*(newPrice-origPrice))/upickNumeric;

          document.getElementById('resultBox').style.display = "flex";

          result = ("Difference of $" + ((parseFloat(difference).toFixed(2))));
          str = document.getElementById("resultBox").innerHTML;

          if (str==result || str==(result+" (no change)")){
            console.log("they're the same");
            document.getElementById('resultBox').innerHTML = (result + " (no change)");
          }
          else {
            console.log("new price calculated");
            document.getElementById('resultBox').innerHTML = (result);
          }
        }
      }

      var checkInputs = function() {
        if (!document.getElementById("origA").checked &&
            !document.getElementById("origB").checked &&
            !document.getElementById("origC").checked) {
              return false;
        }

        if (!document.getElementById("newA").checked &&
            !document.getElementById("newB").checked &&
            !document.getElementById("newC").checked) {
              return false;
        }

        return true;

      }

      var setPriceType = function() {
          //set original price type
          if (document.getElementById("origA").checked) {
            console.log("A price old");
            origPriceType = "A";
            //break;
          }
          else if (document.getElementById("origB").checked) {
            console.log("B price old");
            origPriceType = "B";
            //break;
          }
          else if (document.getElementById("origC").checked) {
            console.log("C price old");
            origPriceType = "C";
            //break;
          }

          //set new price type
          if (document.getElementById("newA").checked) {
            console.log("A price new");
            newPriceType = "A";
            //break;
          }
          else if (document.getElementById("newB").checked) {
            console.log("B price new");
            newPriceType = "B";
            //break;
          }
          else if (document.getElementById("newC").checked) {
            console.log("C price new");
            newPriceType = "C";
            //break;
          }
      }

			var setUpickType = function(value) {
        upickNumeric = value;
        //get proper dictionary in place
        document.getElementById("upickType" + value).disabled = true;

        for (i=4; i<=10; i+=2){
          if (i!=value){
            console.log("i=" + i);
            document.getElementById("upickType" + i).disabled = false;
          }
        }

				if (value==4){
					prices = u4;
				}
				else if (value==6){
          prices = u6;
				}
				else if (value==8){
          prices = u8;
				}
				else if (value==10){
          prices = u10;
				}

        console.log("Upick:" + value);
      }

			var addASeat = function() {
				console.log("addASeat");
        difference += difference;
				document.getElementById('resultBox').innerHTML = ("Difference of $" + ((parseFloat(difference).toFixed(2))));
			}

			var setDiscountAmount = function(discountAmt) {
				console.log("inside of setDiscountAmount");
				document.getElementById('calculateButton').className = "btn btn-success";
				document.getElementById('calculateButton').disabled = false;

        document.getElementById("button" + discountAmt).disabled = true;

        for (i=0; i<=50; i+=25){
          if (i!=discountAmt){
            console.log("i=" + i);
            document.getElementById("button" + i).disabled = false;
          }
        }

				//get a nice decimal for dividing later (and eliminate div. by 0)
				if (discountAmt==0){
					divisor = 1.0;
					console.log("1 is the divisor");
				}
				else if (discountAmt==50) {
					divisor = 0.5;
					console.log(".5 is the divisor");
				}
				else if (discountAmt==25) {
					divisor = 0.75;
					console.log(".75 is the divisor");
				}
			}
		</script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>
<!-- The day is  Thu Mar 5 20:24:06 AST 2020 -->
<!-- The day is  Thu Mar 5 21:08:54 AST 2020 -->
<!-- The day is  Thu Mar 5 21:10:42 AST 2020 -->
<!-- The day is  Thu Mar 5 21:10:54 AST 2020 -->
<!-- The day is  Thu Mar 5 21:15:13 AST 2020 -->
<!-- The day is  Thu Mar 5 21:15:31 AST 2020 -->
<!-- The day is  Thu Mar 5 21:15:42 AST 2020 -->
<!-- The day is  Thu Mar 5 21:20:27 AST 2020 -->
<!-- The day is  Sat Mar 7 14:08:31 AST 2020 -->
<!-- The day is  Sun Mar 8 14:30:53 ADT 2020 -->
<!-- The day is  Mon Mar 9 12:02:02 ADT 2020 -->
<!-- The day is  Tue Mar 10 16:01:11 ADT 2020 -->
<!-- The day is  Thu Mar 12 16:09:23 ADT 2020 -->
<!-- The day is  Fri Mar 13 13:52:54 ADT 2020 -->
<!-- The day is  Sat Mar 14 19:03:27 ADT 2020 -->
<!-- The day is  Sun Mar 15 00:35:42 ADT 2020 -->
<!-- The day is  Mon Mar 16 18:34:30 ADT 2020 -->
<!-- The day is  Tue Mar 17 16:34:09 ADT 2020 -->
<!-- The day is  Wed Mar 18 22:22:22 ADT 2020 -->
<!-- The day is  Thu Mar 19 09:02:20 ADT 2020 -->
<!-- The day is  Fri Mar 20 15:51:04 ADT 2020 -->
<!-- The day is  Sat Mar 21 20:29:29 ADT 2020 -->
<!-- The day is  Sun Mar 22 15:27:02 ADT 2020 -->
<!-- The day is  Mon Mar 23 22:05:03 ADT 2020 -->
<!-- The day is  Wed Mar 25 10:40:37 ADT 2020 -->
<!-- The day is  Thu Mar 26 15:51:10 ADT 2020 -->
<!-- The day is  Fri Mar 27 14:34:05 ADT 2020 -->
