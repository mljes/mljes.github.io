<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">

        <title>Upgrader</title>
        <meta
            name="description"
            content="Calculates UPick upgrade prices per seat">
        <meta
            name="author"
            content="MLJ">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--
            Change log:
                10. August 2017  - created!
        -->

        <style>
			input {
				font-style: italic;
				min-height: 10%;
			}
			
			body {
				font-family: "Calibri";
			}
			
			.row-m-t{
				margin-top : .2%;
			}
			
			body {
				margin: 0;
				background: url("memphis-colorful.png")
				repeat;
			}
			
			#resultBox {
				display: none;
			}
			
			.btn-primary-salmon {
			  color: #fff;
			  background-color: #ff7583;
			  border-color: #ff7583;
			}
			
			.btn-primary-salmon:hover {
			  color: #fff;
			  background-color: #ff3B4f;
			  border-color: #ff3B4f;
			}
			
			@font-face {
				font-family: "Priscillia";
				src: url("PriscilliaScript.otf"),
				url('PriscilliaScript.woff') format('woff'),
				url('PriscilliaScript.ttf')  format('truetype'),
				url('PriscilliaScript.svg#PriscilliaScript') format('svg');
			}
		</style>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>

	<body>
		<div class="container" style="color: light-blue">
			<!--** TITLE **-->
			<div class="text-center">
				<h4>&nbsp;</h4>
				<h1 style="font-family: Priscillia">UPick Seat Price Upgrader</h1>
			</div>

			<!--** FIRST LINE OF TEXT **-->
			<div class="row row-m-t justify-content-center">
			<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10 text-center"><h4>Enter UPick type:</h4></div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** FIRST INPUT BOX **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<input type="number" class="form-control" id="upickTypeID" placeholder="numbers only, please" autocomplete="off">
				</div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** SECOND LINE OF TEXT **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10 text-center"><h4>Upgrading from...</h4></div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>
			
			<!--** SECOND INPUT BOX **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<input type="letter" class="form-control" id="origPriceTypeID" placeholder="price type letter" autocomplete='off'>
				</div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** THIRD LINE OF TEXT **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10 text-center"><h4>...to...</h4></div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** THIRD INPUT BOX **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<input type="letter" class="form-control" id="upgradePriceTypeID" placeholder="price type letter" autocomplete='off'>
				</div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>

			<!--** BUTTONS **-->
			<div class="row row-m-t">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<div class="btn-group btn-group-justified" role="group">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-primary" id="button50" onclick="setDiscountAmount(50)">50% off</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-primary" id="button25" onclick = "setDiscountAmount(25)">25% off</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-primary" id="buttonNone" onclick = "setDiscountAmount(0)">None</button>
						</div>
					</div>
				</div>
				
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>
			
			<div class="row row-m-t">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<div class="btn-group btn-group-justified" role="group">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" id="calculateButton" disabled>Go</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" id="addOneButton" onclick="addASeat()" disabled>+1 seat</button>
						</div>
					</div>
				</div>
				
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>
			

			<!--** RESULT TEXT **-->
			<div class="row row-m-t justify-content-center">
				<!--left column-->
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<div class="well" id="resultBox">
					</div>
				</div>
				<!--right column-->
				<div class="col-lg-4 col-xs-1 col-sm-1 text-center"></div>
			</div>
		</div>

		<script>
			var upickType;
			var origPriceType;
			var upgradePriceType;
			var divisor = 0;
			//Sets of price tiers
			var u4 = {"A+":252.00,"A":237.60,"B":187.20,"C":108.00};
			var u6 = {"A+":357.00,"A":336.60,"B":265.20,"C":153.00};
			var u8 = {"A+":448.00,"A":422.40,"B":332.80,"C":192.00};
			var u10 = {"A+":560.00,"A":528.00,"B":416.00,"C":240.00}
			var prices = new Object();
			var newPrice;
			var origPrice;
			
			var mainProcedure = function() {
				upickType = document.getElementById("upickTypeID").value;
				
				document.getElementById('calculateButton').disabled = true;
				document.getElementById('resultBox').style.display = "block";
				document.getElementById('addOneButton').disabled = false;
				document.getElementById('addOneButton').className = "btn btn-primary-salmon btn-primary-salmon:hover";
				
				document.getElementById('button50').disabled = true;
				document.getElementById('button50').className = "btn btn-default";
				
				document.getElementById('button25').disabled = true;
				document.getElementById('button25').className = "btn btn-default";
				
				document.getElementById('buttonNone').disabled = true;
				document.getElementById('buttonNone').className = "btn btn-default";
				
				//get proper dictionary in place
				if (upickType==4){
					prices = u4;
				}
				else if (upickType==6){
					prices = u6;
				}
				else if (upickType==8){
					prices = u8;
				}
				else if (upickType==10){
					prices = u10;
				}
				
				//put price types into variables
				origPriceType = document.getElementById("origPriceTypeID").value;
				upgradePriceType = document.getElementById("upgradePriceTypeID").value;

				//capitalize letters for searching through Dictionary
				origPriceType = convertPriceTypeToCapital(origPriceType);
				upgradePriceType = convertPriceTypeToCapital(upgradePriceType);

				var old = (prices[origPriceType]/(upickType/divisor));
				var upgrade = (prices[upgradePriceType]/(upickType/divisor));

				newPrice = upgrade-old;
				document.getElementById('resultBox').innerHTML = ("Difference of $" + (parseFloat(newPrice).toFixed(2)));
				origSum = newPrice;
			}
			
			var addASeat = function() {
				console.log("addASeat");
				newPrice = newPrice + origSum;
				document.getElementById('resultBox').innerHTML = ("Difference of $" + ((parseFloat(newPrice).toFixed(2))));
			}

			var setDiscountAmount = function(discountAmt) {
				console.log("inside of setDiscountAmount");
				document.getElementById('calculateButton').className = "btn btn-success";
				document.getElementById('calculateButton').disabled = false;
		
				//get a nice decimal for dividing later (and eliminate div. by 0)
				if (discountAmt==0){
					divisor = 1.0;
					console.log("1 is the divisor");
				}
				else if (discountAmt==50) {
					divisor = 0.5;
					console.log(".5 is the divisor");
				}
				else if (discountAmt==25) {
					divisor = 0.75;
					console.log(".75 is the divisor");
				}
			}
			
			var convertPriceTypeToCapital = function(priceType) {
				if (priceType=="a+"){
					priceType="A+";
				}
				else if (priceType=="a"){
					priceType="A";
				}
				else if (priceType=="b"){
					priceType="B";
				}
				else if (priceType=="c"){
					priceType="C";
				}

				return priceType;
			}
			
			//Run the calculate function on button press (mainProcedure)
			document.getElementById('calculateButton').onclick = mainProcedure;
		</script>
	</body>
</html>
