<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">

        <title>TESTER</title>
        <meta
            name="description"
            content="Calculates UPick upgrade prices per seat">
        <meta
            name="author"
            content="MLJ">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--
            Change log:
                10. August 2017  - created!
        -->

        <style>
			input {
				font-style: italic;
				text-align: center;
				min-height: 10%;
			}
			body {
				font-family: "Calibri";
			}
			.row-m-t{
				margin-top : .2%;
			}
			@font-face {
				font-family: "Priscillia";
				src: url("PriscilliaScript.otf"),
				url('PriscilliaScript.woff') format('woff'),
				url('PriscilliaScript.ttf')  format('truetype'),
				url('PriscilliaScript.svg#PriscilliaScript') format('svg');
			}
		</style>
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	</head>

	<body style="background-color: red;">
		<div class="container" style="color: light-blue">
			<!--** TITLE **-->
			<div class="text-center">
				<h4>&nbsp;</h4>
				<h1 style="font-family: Priscillia">UPick Seat Price Upgrader</h1>
			</div>
			
			<div class="row text-center">
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
				<div class="col-lg-4 col-xs-10 col-sm-10">
					<form>
						<div class="form-group">
							<label for="number">Enter UPick type:</label>
							<input type="number" class="form-control" placeholder="numbers only, please" id=""></input>
						</div>
						<div class="form-group">
							<label for="letter">Upgrading from...</label>
							<input type="letter" class="form-control" placeholder="price type letter" id=""></input>
						</div>
						<div class="form-group">
							<label for="number">...to...</label>
							<input type="letter" class="form-control" placeholder="price type letter" id=""></input>
						</div>
						<div class="btn-group btn-group-justified" role="group">
							<div class="btn-group" role="group">
								<button type="button" class="btn btn-primary btn-md" id="button50" onclick="setDiscountAmount(50)">50% off</button>
							</div>
							<div class="btn-group" role="group">
								<button type="button" class="btn btn-primary btn-md" id="button25" onclick = "setDiscountAmount(25)">25% off</button>
							</div>
							<div class="btn-group" role="group">
								<button type="button" class="btn btn-primary btn-md" id="buttonNone" onclick = "setDiscountAmount(0)">None</button>
							</div>
							<div class="btn-group" role="group">
								<button type="button" class="btn btn-default btn-md" id="calculateButton" disabled>Calculate</button>
							</div>
							<div class="btn-group" role="group">
								<button type="button" class="btn btn-default btn-md" id="addOneButton" disabled>+1</button>
							</div>
						</div>
					</form>
				</div>
				<div class="col-lg-4 col-xs-1 col-sm-1"></div>
			</div>
		</div>

		<script>
			var upickType;
			var origPriceType;
			var upgradePriceType;
			var divisor = 0;
			//Sets of price tiers
			var u4 = {"A+":252.00,"A":237.60,"B":187.20,"C":108.00};
			var u6 = {"A+":357.00,"A":336.60,"B":265.20,"C":153.00};
			var u8 = {"A+":448.00,"A":422.40,"B":332.80,"C":192.00};
			var u10 = {"A+":560.00,"A":528.00,"B":416.00,"C":240.00}
			var prices = new Object();

			var mainProcedure = function() {
				upickType = document.getElementById("upickTypeID").value;

				//get proper dictionary in place
				if (upickType==4){
					prices = u4;
				}
				else if (upickType==6){
					prices = u6;
				}
				else if (upickType==8){
					prices = u8;
				}
				else if (upickType==10){
					prices = u10;
				}
				
				//put price types into variables
				origPriceType = document.getElementById("origPriceTypeID").value;
				upgradePriceType = document.getElementById("upgradePriceTypeID").value;

				//capitalize letters for searching through Dictionary
				origPriceType = convertPriceTypeToCapital(origPriceType);
				upgradePriceType = convertPriceTypeToCapital(upgradePriceType);

				var old = (prices[origPriceType]/(upickType/divisor));
				var upgrade = (prices[upgradePriceType]/(upickType/divisor));

				//upgrade-old
				document.getElementById('resultBox').innerHTML = ("Difference of $" + (parseFloat(upgrade-old).toFixed(2)));
			}

			var setDiscountAmount = function(discountAmt) {
				console.log("inside of setDiscountAmount");
				document.getElementById('calculateButton').className = "btn btn-success";

				document.getElementById('calculateButton').disabled = false;
				console.log("BENCHMARK");
				document.getElementById('button50').disabled = true;


				document.getElementById('button50').className = "btn btn-default";
				document.getElementById('button25').disabled = true;

				document.getElementById('button25').className = "btn btn-default";
				document.getElementById('buttonNone').disabled = true;

				document.getElementById('buttonNone').className = "btn btn-default";
				
				//get a nice decimal for dividing later (and eliminate div. by 0)
				if (discountAmt==0){
					divisor = 1.0;
					console.log("1 is the divisor");
				}
				else if (discountAmt==50) {
					divisor = 0.5;
					console.log(".5 is the divisor");
				}
				else if (discountAmt==25) {
					divisor = 0.75;
					console.log(".75 is the divisor");
				}
			}
			
			var convertPriceTypeToCapital = function(priceType) {
				if (priceType=="a+"){
					priceType="A+";
				}
				else if (priceType=="a"){
					priceType="A";
				}
				else if (priceType=="b"){
					priceType="B";
				}
				else if (priceType=="c"){
					priceType="C";
				}

				return priceType;
			}
			
			//Run the calculate function on button press (mainProcedure)
			document.getElementById('calculateButton').onclick = mainProcedure;
		</script>
		
		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/ulg/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
	</body>
</html>
